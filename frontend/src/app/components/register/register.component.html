<body>
  <ngb-alert class="text-center" type="info" [hidden]="STres">Se ha registrado tu usuari, verifica el correo e <a routerLink="/login" routerLinkActive="active"><strong>inicia sesión</strong></a>.</ngb-alert>
  <ngb-alert class="text-center" type="danger" [hidden]="STerror">Ha habido un error en el registro, por favor, pruebe de nuevo.</ngb-alert>
  <section class="vh-100">
    <div class="container py-2 h-100">
      <div class="row d-flex align-items-center justify-content-center h-100">
        <div class="image col-md-8 col-lg-7 col-xl-6">
          <a routerLink="/" routerLinkActive="active"><img src="assets/img/secondLogo.png" class="rounded-circle" alt="Second Logo"></a>
        </div>
        <div class="col-md-7 col-lg-5 col-xl-5 offset-xl-1">
          <form #createUserForm="ngForm" (ngSubmit)="searchMailAndCreate(createUserForm)">
            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Input del Nombre ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
            <div class="form-outline mb-4">
              <input type="text" id="username" name="username" [(ngModel)]="registerandloginService.createdUser.username" #username="ngModel" class="form-control form-control-lg" required ngModel/>
              <label class="form-label" for="username">Nombre de usuario</label>
              <div *ngIf="username.invalid && (username.dirty || username.touched)" class="alert">
                <div *ngIf="username.errors?.['required']">
                  <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger"><p>El nombre es necesario.</p></ngb-alert>
                </div>
              </div>
            </div>

            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Input del Mail ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
            <div class="form-outline mb-4">
                <input type="email" id="mail" name="mail" [(ngModel)]="registerandloginService.createdUser.mail" #mail="ngModel" email class="form-control form-control-lg" required ngModel/>
                <label class="form-label" for="mail">Correo electrónico</label>
                <div *ngIf="mail.invalid && (mail.dirty || mail.touched)" class="alert">
                  <div *ngIf="mail.errors?.['required']">
                    <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger">El correo es necesario.</ngb-alert>
                  </div>
                  <div *ngIf="mail.errors?.['email']">
                    <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger">Introduzca un correo valido.</ngb-alert>
                  </div>
                </div>
            </div>
  
            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Input de la Contraseña ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
            <div class="form-outline mb-4">
              <input type="password" id="password" name="password" [(ngModel)]="registerandloginService.createdUser.password" #passwd="ngModel" class="form-control form-control-lg" minlength="8" required ngModel/>
              <label class="form-label" for="password">Contraseña</label>
            </div>
            <div *ngIf="passwd.invalid && (passwd.dirty || passwd.touched)" class="alert">
              <div *ngIf="passwd.errors?.['required']">
                <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger">La contraseña es necesaria.</ngb-alert>
              </div>
              <div *ngIf="passwd.errors?.['minlength']">
                <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger">Ha de tener un mínimo de 8 carácteres.</ngb-alert>
              </div>
            </div>
  
            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Recuérdame ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

            <div class="d-flex justify-content-around align-items-center mb-4">

              <div class="form-check">
                <input class="form-check-input" #terms="ngModel" type="checkbox" id="terms" name="terms" required ngModel/>
                <label class="form-check-label" for="terms"> He leido los <a class="fw-bold" routerLink="/terms" routerLinkActive="active"> Terminos de servicio</a></label>
              </div>
              <div *ngIf="terms.invalid && (terms.dirty || terms.touched)" class="alert">
                <div *ngIf="terms.errors?.['required']">
                  <ngb-alert class="form--alert text-center" [dismissible]="false" type="danger">Aceptar los terminos de servicio es necesario.</ngb-alert>
                </div>
              </div>

            </div>
  
            <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Botones ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
            <div class="d-flex justify-content-between">
              <button type="submit" class="btn btn-primary btn-lg btn-block" [disabled]="createUserForm.form.invalid">Crear</button>
              <a routerLink="/login" routerLinkActive="active" class="align-self-center">¿Tienes ya una cuenta?</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</body>